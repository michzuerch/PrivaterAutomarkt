/*!
 * vue-headroom v0.10.1
 * (c) dalphyx <wjcbmk@gmail.com>
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).vueHeadroom=e()}(this,function(){"use strict";function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};for(var n,i=(function(t){(function(){var e,n,i,o,s,r;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(t.exports=function(){return(e()-s)/1e6},n=process.hrtime,o=(e=function(){var t;return 1e9*(t=n())[0]+t[1]})(),r=1e9*process.uptime(),s=o-r):Date.now?(t.exports=function(){return Date.now()-i},i=Date.now()):(t.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(e)}(n={exports:{}},n.exports),n.exports),o="undefined"==typeof window?e:window,s=["moz","webkit"],r="AnimationFrame",l=o["request"+r],a=o["cancel"+r]||o["cancelRequest"+r],c=0;!l&&c<s.length;c++)l=o[s[c]+"Request"+r],a=o[s[c]+"Cancel"+r]||o[s[c]+"CancelRequest"+r];if(!l||!a){var h=0,d=0,u=[];l=function(t){if(0===u.length){var e=i(),n=Math.max(0,1e3/60-(e-h));h=n+e,setTimeout(function(){var t=u.slice(0);u.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(h)}catch(t){setTimeout(function(){throw t},0)}},Math.round(n))}return u.push({handle:++d,callback:t,cancelled:!1}),d},a=function(t){for(var e=0;e<u.length;e++)u[e].handle===t&&(u[e].cancelled=!0)}}var f=function(t){return l.call(o,t)};f.cancel=function(){a.apply(o,arguments)},f.polyfill=function(t){t||(t=o),t.requestAnimationFrame=l,t.cancelAnimationFrame=a};var p={pinned:"headroom--pinned",unpinned:"headroom--unpinned",unfixed:"headroom--unfixed",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"};var m=function(t,e,n,i,o,s,r,l,a,c){"boolean"!=typeof r&&(a=l,l=r,r=!1);var h,d="function"==typeof n?n.options:n;if(t&&t.render&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0,o&&(d.functional=!0)),i&&(d._scopeId=i),s?(h=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,a(t)),t&&t._registeredComponents&&t._registeredComponents.add(s)},d._ssrRegister=h):e&&(h=r?function(){e.call(this,c(this.$root.$options.shadowRoot))}:function(t){e.call(this,l(t))}),h)if(d.functional){var u=d.render;d.render=function(t,e){return h.call(e),u(t,e)}}else{var f=d.beforeCreate;d.beforeCreate=f?[].concat(f,h):[h]}return n}({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{style:{height:this.height+"px"}},[e("div",{class:this.cls,style:this.style},[this._t("default")],2)])},staticRenderFns:[]},void 0,{name:"vueHeadroom",data:function(){return{isTop:!1,isNotTop:!1,isBottom:!1,isNotBottom:!1,isPinned:!1,isUnpinned:!1,currentScrollY:0,lastScrollY:void 0,state:"unfixed",translate:0,height:"",animation:!0,isSupport3d:!1}},props:{scroller:{type:Function,default:function(){return window}},disabled:{type:Boolean,default:!1},upTolerance:{type:Number,default:5},downTolerance:{type:Number,default:0},speed:{type:Number,default:250},easing:{type:String,default:"ease-in-out"},zIndex:{type:Number,default:9999},offset:{type:Number,default:0},classes:{type:Object,default:function(){return p}},footroom:{type:Boolean,default:!1}},watch:{disabled:function(t){t?this.scroller().removeEventListener("scroll",this._handleScroll):this.scroller().addEventListener("scroll",this._handleScroll)}},mounted:function(){this.isSupport3d=function(){for(var t=document.createElement("div"),e=!1,n=["perspectiveProperty","WebkitPerspective"],i=n.length-1;i>=0;i--)e=e||void 0!==t.style[n[i]];if(e){var o=document.createElement("style");o.textContent="#modernizr{width:0;height:0} @media (transform-3d),(-webkit-transform-3d){#modernizr{width:7px;height:18px;margin:0;padding:0;border:0}}",document.getElementsByTagName("head")[0].appendChild(o),t.id="modernizr",document.body.appendChild(t),e=7===t.offsetWidth&&18===t.offsetHeight,o.parentNode.removeChild(o),t.parentNode.removeChild(t)}return e}(),this._setHeightOffset(),this.disabled||this.scroller().addEventListener("scroll",this._handleScroll),this._handleScroll()},updated:function(){this.$nextTick(function(){this._setHeightOffset()})},beforeDestroy:function(){this.scroller().removeEventListener("scroll",this._handleScroll)},computed:{style:function(){var t={position:this.disabled||"unfixed"===this.state?"relative":"fixed",top:"0",left:"0",right:"0","z-index":this.zIndex};return this.footroom&&(t=Object.assign({},t,{top:"unset",bottom:"0"})),this.$isServer||(t.transform=this.isSupport3d&&!this.$isServer?"translate3d(0, ".concat(this.translate,", 0)"):"translateY(".concat(this.translate,")"),this.animation&&(t.transition="all ".concat(this.speed,"ms ").concat(this.easing))),t},clsOpts:function(){return Object.assign({},p,this.classes)},cls:function(){var e,n=this.clsOpts;return this.disabled?{}:(t(e={},n.top,this.isTop),t(e,n.notTop,this.isNotTop),t(e,n.bottom,this.isBottom),t(e,n.notBottom,this.isNotBottom),t(e,n.pinned,this.isPinned),t(e,n.unpinned,this.isUnpinned),t(e,n.initial,!0),e)}},methods:{_getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},_getElementPhysicalHeight:function(t){return Math.max(t.offsetHeight,t.clientHeight)},_getDocumentHeight:function(){var t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,t.clientHeight,e.clientHeight)},_getElementHeight:function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},_getScrollerPhysicalHeight:function(){var t=this.scroller();return t===window||t===document.body?this._getViewportHeight():this._getElementPhysicalHeight(t)},_getScrollerHeight:function(){var t=this.scroller();return t===window||t===document.body?this._getDocumentHeight():this._getElementHeight(t)},_isOutOfBound:function(t){var e=t<0,n=this._getScrollerPhysicalHeight(),i=this._getScrollerHeight();return e||t+n>i},_handleScroll:function(){f(this.update)},_setHeightOffset:function(){this.height=this.$slots.default?this.$slots.default[0].elm&&this.$slots.default[0].elm.offsetHeight:""},_getScrollY:function(){return void 0!==this.scroller().pageYOffset?this.scroller().pageYOffset:void 0!==this.scroller().scrollTop?this.scroller().scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},update:function(){if(this.currentScrollY=this._getScrollY(),!this._isOutOfBound(this.currentScrollY)){this.currentScrollY<=this.offset?this.top():this.notTop(),this.currentScrollY+this._getViewportHeight()>=this._getScrollerHeight()?this.bottom():this.notBottom();var t,e,n,i,o=(e=(t=this).currentScrollY>=t.lastScrollY?"down":"up",n=Math.abs(t.currentScrollY-t.lastScrollY),i=void 0===t.lastScrollY,t.currentScrollY>t.height+t.offset&&"unfixed"===t.state&&i?"pin":t.currentScrollY<=t.offset&&"unfixed"!==t.state?"unfix":t.currentScrollY<=t.height&&"down"===e&&"unfixed"===t.state?"none":t.currentScrollY>t.height+t.offset&&"down"===e&&"unfixed"===t.state&&!i?"unpin-snap":"down"===e&&["pinned","unfixed"].indexOf(t.state)>=0&&t.currentScrollY>t.height+t.offset&&n>t.downTolerance?"unpin":"up"===e&&n>t.upTolerance&&["pinned","unfixed"].indexOf(t.state)<0?"pin":"up"===e&&t.currentScrollY<=t.height&&["pinned","unfixed"].indexOf(t.state)<0?"pin":"none");"pin"===o?this.pin():"unpin-snap"===o?this.unpinSnap():"unpin"===o?this.unpin():"unfix"===o&&this.unfix(),this.lastScrollY=this.currentScrollY}},top:function(){this.isTop=!0,this.isNotTop=!1,this.$emit("top")},notTop:function(){this.isTop=!1,this.isNotTop=!0,this.$emit("not-top")},bottom:function(){this.isBottom=!0,this.isNotBottom=!1,this.$emit("bottom")},notBottom:function(){this.isNotBottom=!0,this.isBottom=!1,this.$emit("not-bottom")},pin:function(){var t=this;this.isPinned=!0,this.isUnpinned=!1,this.animation=!0,this.$emit("pin"),this.translate=0,this.$nextTick(function(){t.state="pinned"})},unpin:function(){var t=this;this.isUnpinned=!0,this.isPinned=!1,this.animation=!0,this.$emit("unpin"),this.translate=this.footroom?"100%":"-100%",this.$nextTick(function(){t.state="unpinned"})},unpinSnap:function(){var t=this;this.isUnpinned=!0,this.isPinned=!1,this.animation=!1,this.$emit("unpin"),this.translate=this.footroom?"100%":"-100%",this.$nextTick(function(){t.state="unpinned"})},unfix:function(){var t=this;this.translate=0,this.animation=!1,this.$emit("unfix"),this.$nextTick(function(){t.state="unfixed"})}}},void 0,!1,void 0,void 0,void 0),g=function t(e){t.installed||e.component(m.name,m)};return"undefined"!=typeof window&&window.Vue&&g(window.Vue),{headroom:m,install:g}});
//# sourceMappingURL=vue-headroom-umd.min.js.map
